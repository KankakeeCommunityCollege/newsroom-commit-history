language: ruby
rvm:
- 2.5.0
before_install:
- chmod +x _scripts/gemfile.sh
- _scripts/gemfile.sh
- npm i -g npm@6.1.0
install:
- npm install
- bundle install
- gem install jekyll
- gem install jekyll-feed
- gem install jekyll-sitemap
branches:
  only:
  - publish
env:
  global:
  - JEKYLL_ENV:
  publish
  - secure: SoCApgbDCEaLi6Ze/eus7EEd9o5D4joPmIUndPb46exc2yPrsMKugQdCIlNrz/qRR4isph1+7dIkEe3truHn10qdzwHhrb3fbkxApLf9juyrlFbuHPfY/wRU70EQlzTjwSYsSIH6KkcefSwzArDUkHlpCIM34R/TZ/Xuivdobjydkyu0qtZiATQcupTljheOue9oQcPOGh+j7wfEderNnnct6pUC3dKYG0/h0UfFdztak/OOphy58qgA4mZh8pDdfd2SgL8Vkm0oWdSoVmHK6dOxMkfWuDKbsimgMYnCR+qa+E1Xm4eSsfNtTaJD0NB2ebpmcZ42MxYXUSpMrHBguDeGkxgOrPiRtYdKfTMVl6/hAcq8Ab32umPsMt/S3tSEtu9QeSrOQMRSDiHwXp2s1R1HJB2U5Edn81jjb6Vxk4QeCh4X3H/bsnrjcnERhUz20kdHiRwJcG0hQ56r7+BEMVdAQVyhfknyNaiD2q9HFG+ylIX7qC2GQ2dIjodhu+YvXlj9Gf+4qdIB1h9JEPo7gqe9+n2OFWO8tutSyhqOqogwXBZvTGbXm7qd2G5c03UNxv7rAZq0LaJCcuzX1S2akA0IFXQ1G9bx8KgeDDyIJjFMKdRxnevVjTin7ZZqotF1c3rGzpzKa55IPEvzpkXkcubfKKLy5vKfWaG8rlvQAzo=
  - secure: kPH8UvqzamOOb83GYBKyCfkXW8WZpyo/H//z9nV/R0N3ym4Lb9bnhMLMDgdRP4FQBuwj4X6Gc24bE2cHhVgyCPccQRSRnyhYLQYE8ZlJFSf9EP6xBFur7CZZw6+kTXu4HqotV0wVpZ4ORQwwr8YOLNtIYMafDKo5TjB2f99e7MQAnyz+vTW4kWUsoxaj3KJiUazkFX3JQmCkRIjvEsisweY5vea8yTTl2sRH5r2SlOorHYDl6gLAm0LbiD2VUysUYBrSz6jv5HvOAJ9/fxQRXmr9TSj7KcQeiz7aMO1b4sta7oS0r6ZpR+hhPFlaWjG/r08eNxdUVV/bOAKLj3GV/GbkGc50NZwwOX7WDfQ+I9SQRHTOufP+Ar489lGBNNd02ejFn2fQO5uWF2Y+yqrDAGilhZEzL1XYw91BVilgpD2LCrYFVosMkFwrFRgcyHFyb7aKBuiqyEtS4vnLlLkMpDeABAa1AcLCphCcpyeNVPh7zb7Kiq+L57yN6FtcGwMFp3RaeWE84Qmm/7quioVB3kcw3ug16p1InZuhYC1mcUDfjSQz7U9Y18sESZU3QKlypesSGUhn9YdqKIV6JKwbZATp6bWHczp5LV0LgVSDOWvIeZer9Sp1rd61DRvNdi87RmNzuuO5VxZmk6454G2edkdDp0GUjYatZgN/NdHyqgY=
  - secure: E80sVuJeBNo+Zleozx1mmxJkCnwoReqqDqc67koEBaT8JtWlWmZ0q1tf5LtAaKb2/mvPcYi8mGZqpjkNMdWUf/5St8Xn4nOgt7u7egB6nmGWmDlWiH9mAz1Q4CdOI378ZAdmsBzb82vslTbTROX8akuiK3CNfXek0V4r8Gfd2E1RuW2h9plk/o8oata0XRhIdcSoxw7IBKjv2Q0fPPrXUWmZrMFnztw85retSq0/3aWxEXrq+hIVJYHkASUitZJS2KZCo9UmIUBd4egfTe+ROdIaeZMIUCpSf4RNhv9fAeC5U7QdqRiyLMtk2jSP00Wme3Ia5GvgAs9yN31CfR+BCpFDcsHQnRew4PzVvfmjw6ySmuOJ2Idorb4BUDx4996ukEftxAWXVqmw2hMbSJYluqIvcaW+G4c+SW4jp+5pBXeXrX/Bcjb68287h315PpPPP9yU5uG4EM2pj12+HnaHmowSGr4SUasAOyvbJAbiQZd0DnZBtYJDDSs2ye1XnM10/KFgblfDOHJaZdJ16aXD0TrHSJw3N+e+Z3KVckx0r/3VoFxvUbBhwaiWjBmNPGNFsGdRzlG5gQQUBKRuzs/F/MNax2auLy59G/kJ8xff5ALo2XMINY6JpYUq3FwJMZrhFkIwvfu7WfUri05+hCTJms4hb5T9XWPC2zGAWzSHmSM=
notifications:
  email:
    recipients:
    - $EMAIL1
    - $EMAIL2
    - $EMAIL3
    on_success: always
    on_failure: always
before_script:
- npm install -g gulp-cli
script:
- chmod +x _scripts/build.sh
- _scripts/build.sh
sudo: false
addons:
  apt:
    packages:
    - ncftp
